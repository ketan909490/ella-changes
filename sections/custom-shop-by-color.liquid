<section class="rugs-color-grid page-width">
  <div class="section-header">
    <div class="halo-block-header text-center block-title--style2 viewAll--center">
                        <h3 class="title scroll-trigger animate--slide-in"><span class="text">Shop By Color</span></h3></div>
  </div>
  <div class="color-grid">
    {% for block in section.blocks %}
      <a href="{{ block.settings.link }}" class="color-item">
        {% if block.settings.image != blank %}
          <span class="color-circle">
            <img src="{{ block.settings.image | img_url: '100x100' }}" alt="{{ block.settings.title }}">
          </span>
        {% else %}
          <span class="color-circle" style="background-color: {{ block.settings.color }};"></span>
        {% endif %}
        <span class="color-label">{{ block.settings.title }}</span>
      </a>
    {% endfor %}
  </div>
</section>

<style>
    .rugs-title {
  text-align: center;
  font-size: 22px;
  font-weight: bold;
}
.rugs-color-grid {
  padding: 32px 16px;
  background: #fff;
}
.color-title {
  text-align: center;
  font-size: 22px;
  font-weight: bold;
  margin-bottom: 24px;
}
.color-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0px;
  justify-items: center;
}
.color-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-decoration: none;
}
.color-circle {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: 2px solid #ccc;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease;
}
.color-circle img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}
.color-item:hover .color-circle {
  transform: scale(1.1);
}
.color-label {
  font-size: 13px;
  color: #111;
  font-weight: 500;
  margin-top: 6px;
}

/* Desktop Grid */
@media(min-width: 768px) {
  .color-grid {
    grid-template-columns: repeat(9, 1fr);
    gap: 0px;
  }
  .color-circle {
    width: 70px;
    height: 70px;
  }
}
</style>

{% schema %}
{
  "name": "Shop by Color 06",
  "max_blocks": 12,
  "blocks": [
    {
      "type": "color_block",
      "name": "Color Option",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Label (Color Name)",
          "default": "Beige"
        },
        {
          "type": "color",
          "id": "color",
          "label": "Color (optional if no image)"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Optional Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Collection Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Shop by Color 06",
      "category": "Custom"
    }
  ]
}
{% endschema %}
